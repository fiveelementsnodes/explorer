import{d as S,l as B,J as C,H as L,i as N,a0 as F,r as T,o as n,m as r,p as e,n as t,t as s,L as h,M as V,x as f,K as v,G as c,F as D,q as J}from"./index-b8b25d6d.js";import{a as R}from"./index-3b648671.js";import{s as q}from"./index-dee642a6.js";import"./index-9a65bdee.js";const z={key:0,class:"bg-base-100 px-4 pt-3 pb-4 rounded shadow mb-4"},E={class:"card-title truncate mb-2"},G={class:"overflow-auto-x"},H={class:"table text-sm"},K={key:1,class:"bg-base-100 px-4 pt-3 pb-4 rounded shadow mb-4"},M={class:"card-title truncate mb-2"},O={class:"border border-slate-400 rounded-md mt-4"},j={key:0},A={key:2,class:"bg-base-100 px-4 pt-3 pb-4 rounded shadow"},I=t("h2",{class:"card-title truncate mb-2"},"JSON",-1),Y=S({__name:"[hash]",props:["hash","chain"],setup(k){const i=k,y=B(),$=C(),u=L(),a=N({});i.hash&&y.rpc.getTx(i.hash).then(o=>a.value=o);const p=F(()=>{var o,m;return((m=(o=a.value.tx)==null?void 0:o.body)==null?void 0:m.messages.map(l=>{var d;return(d=l.packet)!=null&&d.data&&(l.message=u.base64ToString(l.packet.data)),l}))||[]});return(o,m)=>{var d,_,x,b,g;const l=T("RouterLink");return n(),r("div",null,[e(a).tx_response?(n(),r("div",z,[t("h2",E,s(o.$t("tx.title")),1),t("div",G,[t("table",H,[t("tbody",null,[t("tr",null,[t("td",null,s(o.$t("tx.tx_hash")),1),t("td",null,s(e(a).tx_response.txhash),1)]),t("tr",null,[t("td",null,s(o.$t("account.height")),1),t("td",null,[h(l,{to:`/${i.chain}/block/${e(a).tx_response.height}`,class:"text-primary dark:invert"},{default:V(()=>[f(s(e(a).tx_response.height),1)]),_:1},8,["to"])])]),t("tr",null,[t("td",null,s(o.$t("staking.status")),1),t("td",null,[t("span",{class:v(["text-xs truncate relative py-2 px-4 w-fit mr-2 rounded",`text-${e(a).tx_response.code===0?"success":"error"}`])},[t("span",{class:v(["inset-x-0 inset-y-0 opacity-10 absolute",`bg-${e(a).tx_response.code===0?"success":"error"}`])},null,2),f(" "+s(e(a).tx_response.code===0?"Success":"Failed"),1)],2),t("span",null,s(e(a).tx_response.code===0?"":(_=(d=e(a))==null?void 0:d.tx_response)==null?void 0:_.raw_log),1)])]),t("tr",null,[t("td",null,s(o.$t("account.time")),1),t("td",null,s(e(u).toLocaleDate(e(a).tx_response.timestamp))+" ("+s(e(u).toDay(e(a).tx_response.timestamp,"from"))+") ",1)]),t("tr",null,[t("td",null,s(o.$t("tx.gas")),1),t("td",null,s(e(a).tx_response.gas_used)+" / "+s(e(a).tx_response.gas_wanted),1)]),t("tr",null,[t("td",null,s(o.$t("tx.fee")),1),t("td",null,s(e(u).formatTokens((g=(b=(x=e(a).tx)==null?void 0:x.auth_info)==null?void 0:b.fee)==null?void 0:g.amount,!0,"0,0.[00]")),1)]),t("tr",null,[t("td",null,s(o.$t("tx.memo")),1),t("td",null,s(e(a).tx.body.memo),1)])])])])])):c("",!0),e(a).tx_response?(n(),r("div",K,[t("h2",M,s(o.$t("account.messages"))+": ("+s(e(p).length)+") ",1),(n(!0),r(D,null,J(e(p),(w,P)=>(n(),r("div",null,[t("div",O,[h(R,{value:w},null,8,["value"])])]))),256)),e(p).length===0?(n(),r("div",j,s(o.$t("tx.no_messages")),1)):c("",!0)])):c("",!0),e(a).tx_response?(n(),r("div",A,[I,h(e(q),{value:e(a),theme:e($).theme,style:{background:"transparent"},copyable:"",boxed:"",sort:"","expand-depth":"5"},null,8,["value","theme"])])):c("",!0)])}}});export{Y as default};
